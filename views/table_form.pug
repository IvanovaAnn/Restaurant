extends layout

block content
  h1= title

  form(method='POST' action='')
    div.form-group
      label(for='number') Title:
      input#number.form-control(type='text', placeholder='The number of the table' name='number' required='true' value=(undefined===table ? '' : table.number) )
    div.form-group
      label(for='typetable') TypeTable:
      select#typetable.form-control(type='select', placeholder='Select typetable' name='typetable' required='true' )
        - typetables.sort(function(a, b) {let textA = a.type.toUpperCase(); let textB = b.type.toUpperCase(); return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;});
        for typetable in typetables
          if table
            option(value=typetable._id selected=(typetable._id.toString()===table.typetable._id.toString() ? 'selected' : false) ) #{typetable.type}
          else
            option(value=typetable._id) #{typetable.type}
    div.form-group
      label(for='description') Description:
      textarea#description.form-control(type='textarea', placeholder='Description' name='description' required='true') #{undefined===table ? '' : table.description}
    div.form-group
    button.btn.btn-primary(type='submit') Submit

  if errors
    ul
      for error in errors
        li!= error.msg